{"version":2,"kind":"Notebook","sha256":"a3e78827628d36aa91d30822c2a8e6d5e128cfa04ed40b501fa8f5fb574c6bad","slug":"notebooks.gulf-stream-currents","location":"/notebooks/05_gulf_stream_currents.ipynb","dependencies":[],"frontmatter":{"title":"Gulf Stream Currents","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/physical-oceanography-cookbook","copyright":"2024","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/physical-oceanography-cookbook/blob/main/notebooks/05_gulf_stream_currents.ipynb","thumbnail":"/physical-oceanography-cookbook/build/ProjectPythia_Logo_F-2bbf35a5e2213c5d308ec74ea5b67de5.svg","exports":[{"format":"ipynb","filename":"05_gulf_stream_currents.ipynb","url":"/physical-oceanography-cookbook/build/05_gulf_stream_curre-ad56fdbb190dea0bd6cc88d1d2fe7399.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"image","url":"/physical-oceanography-cookbook/build/ProjectPythia_Logo_F-2bbf35a5e2213c5d308ec74ea5b67de5.svg","alt":"Project Pythia Logo","width":250,"key":"gAbMzMvswr","urlSource":"images/ProjectPythia_Logo_Final-01-Blue.svg"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MG51olW0pU"},{"type":"image","url":"/physical-oceanography-cookbook/build/pangeo_simple_logo-2067be9b121db9034c175b3115e20b93.svg","alt":"Pangeo Logo","width":250,"key":"GNP1DGlcDm","urlSource":"images/logos/pangeo_simple_logo.svg"}],"key":"fB0dlZyojD"}],"key":"FkK1VwaHDb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Gulf Stream Currents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F7mWzW2hZP"}],"identifier":"gulf-stream-currents","label":"Gulf Stream Currents","html_id":"gulf-stream-currents","implicit":true,"key":"mVdyHS4Yg2"}],"key":"E4KjCCIcKX"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RnKHbQRO7u"}],"key":"V31cQnXzRu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jm5Db4uqFp"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"Cc0TXn0wkB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"An example that uses ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jFLxK8aOnF"},{"type":"inlineCode","value":"ipyleaflet","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LhdEIvZbPG"},{"type":"text","value":" to reproduce style of visualization used in the New York Times article\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z7RjWAEuVB"},{"type":"link","url":"https://www.nytimes.com/interactive/2021/03/02/climate/atlantic-ocean-climate-change.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the Atlantic Ocean, Subtle Shifts Hint at Dramatic Dangers","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RuxJBOgX4j"}],"urlSource":"https://www.nytimes.com/interactive/2021/03/02/climate/atlantic-ocean-climate-change.html","key":"CvxeEcEsMR"},{"type":"text","value":" (March 2, 20121).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F3ZU2eiVmM"}],"key":"Y7XRg5wNfW"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Open an Intake catalogue reference Sea Surface Height data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ho64iOm3lW"}],"key":"d4Agv6lT9w"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Make a geographic map of the data using ipyleaflet","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Bhpjdgs7nL"}],"key":"jB9RzISGU0"}],"key":"E9uJ8s297v"}],"key":"HHjWTjwIqw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m4bnNIH7m0"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"sYno34UzYb"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MXBooNWU5i"}],"key":"cH9NTZDUjL"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OKlZPqXceK"}],"key":"b6eYomwfqN"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gWffPiZ7FD"}],"key":"ApFLqMUyQr"}],"key":"d1jBpVTOmN"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vLNf9UyaI7"}],"urlSource":"https://foundations.projectpythia.org/core/xarray","key":"v7Zwepu094"}],"key":"lcnZ1cbvJD"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vMxNyESwzK"}],"key":"OArLLA274y"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"RijAilWYnD"}],"key":"k21uBSzpQd"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://docs.dask.org/en/stable/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kBEZOMrUZp"}],"urlSource":"https://docs.dask.org/en/stable/","key":"bFKn3vgoK8"}],"key":"ZCrY0xJJuR"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LDu91SqZUB"}],"key":"sABDNKlT3s"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"vxk8k1echx"}],"key":"yn6zpBftkB"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://intake.readthedocs.io/en/stable/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Intake","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aLxVSv1MDl"}],"urlSource":"https://intake.readthedocs.io/en/stable/","key":"aaJvlBadmt"}],"key":"w8W963Jee1"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"t9OLOrVDFn"}],"key":"NYVBTdEm0F"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[],"key":"UU4PoYsdC4"}],"key":"Iw49Z4zF6p"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://ipyleaflet.readthedocs.io/en/latest/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"ipyleaflet","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QxO8V5Xn6a"}],"urlSource":"https://ipyleaflet.readthedocs.io/en/latest/","key":"jDDTFCFvgN"}],"key":"lBCcnTKHW9"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NJdRLEmtfO"}],"key":"aRE2sNQ2ef"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[],"key":"yVF1MNG2Hd"}],"key":"ifsGTyazWp"}],"key":"cmZxLVxLEZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"PrqcXwDsgA"}],"key":"VJdGXtso4j"},{"type":"text","value":": 15 minutes","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jPTYrSmz7F"}],"key":"vwlSNlbmUB"}],"key":"vHvIRq13ls"}],"key":"c2m2SbItXL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nlLZbuNfdy"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"kDf3UToqlA"}],"key":"Cd4qT3k71k"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z4vqYxC9aO"}],"key":"itygWlyC98"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from ipyleaflet import Map, TileLayer, basemaps\nfrom ipyleaflet.velocity import Velocity\nfrom intake import open_catalog","key":"QicqJxVckM"},{"type":"output","id":"_FgXpwBbKsGsg_JOYY0cf","data":[],"key":"WNjfOiDsT6"}],"key":"EYWbdvBRQT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MrEidhwsiX"}],"identifier":"load-data","label":"Load Data","html_id":"load-data","implicit":true,"key":"KxhD3DM3BI"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F1m0vkHLWC"},{"type":"link","url":"https://marine.copernicus.eu/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Copernicus Monitoring Environment Marine Service (CMEMS)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"K0swUtkKaE"}],"urlSource":"https://marine.copernicus.eu/","key":"JmdSjp3y0c"},{"type":"text","value":" is a large repository of ocean products including in-situ observations, satellite based remote sensing data, and numerical model output.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lI4CDqJazA"}],"key":"g7EzDDRsLr"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We want to look at altimeter satellite data to show the Sea Level Anomalies (SLA) for the global ocean. The particular data product is called ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"g8xwqlaz6W"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Global Ocean Gridded L4 Sea Surface Heights and Derived Variables Reprocessed (1993-Ongoing)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wbLBthLckm"}],"key":"hG4dR90oC6"},{"type":"text","value":" (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"IO6RCMUC8p"},{"type":"link","url":"https://resources.marine.copernicus.eu/product-detail/SEALEVEL_GLO_PHY_L4_MY_008_047/INFORMATION","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"SEALEVEL​_GLO​_PHY​_L4​_MY​_008​_047","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nvAolaZmVq"}],"urlSource":"https://resources.marine.copernicus.eu/product-detail/SEALEVEL_GLO_PHY_L4_MY_008_047/INFORMATION","key":"FUkS58qh59"},{"type":"text","value":").","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OO8stDGW6s"}],"key":"wvfDMrkOsQ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"This dataset is available as an analysis-ready on the Pangeo Cloud Data Catalog","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vova9DYhD1"}],"key":"TuLfCENKRl"}],"key":"x8H1RFaH1U"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cat = open_catalog(\"https://raw.githubusercontent.com/pangeo-data/pangeo-datastore/master/intake-catalogs/ocean.yaml\")\ncat[\"sea_surface_height\"]","key":"FdYiW5even"},{"type":"output","id":"tz6bI4ozXPt5eu9qVGMDv","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"<intake_xarray.xzarr.ZarrSource at 0x7f7dc4968590>","content_type":"text/plain"}}}],"key":"T9TJ864jLb"}],"key":"mOn7cuanDu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This dataset is marked “requester pays” which means we have do an addtional step if we are not already on Pangeo Hub on the Google Cloud Platform.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wQWeqH6E97"}],"key":"lJ2Sq9dxDJ"}],"key":"CRcfPghhHP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Working with requester pays data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iO7eP4LTz7"}],"identifier":"working-with-requester-pays-data","label":"Working with requester pays data","html_id":"working-with-requester-pays-data","implicit":true,"key":"QnhB6eoAoP"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Several of the datasets within the Pangeo cloud data catalog are contained in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dM44uzXK4M"},{"type":"link","url":"https://cloud.google.com/storage/docs/requester-pays","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"requester pays","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mlWljGcj3T"}],"urlSource":"https://cloud.google.com/storage/docs/requester-pays","key":"YRDAkNnVB6"},{"type":"text","value":" storage buckets. This means that a user requesting data must provide their own billing project (created and authenticated through Google Cloud Platform) to be billed for the charges associated with accessing a dataset. To set up an GCP billing project and use it for authentication in applications:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"WCWVjrjNzT"}],"key":"UpJbGgGZQh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://cloud.google.com/resource-manager/docs/creating-managing-projects#creating_a_project","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Create a project on GCP","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wxmir4yW2S"}],"urlSource":"https://cloud.google.com/resource-manager/docs/creating-managing-projects#creating_a_project","key":"Vz8b2VINja"},{"type":"text","value":"; if this is the first time using GCP, a prompt will appear to choose a Google account to link to all GCP-related activities.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XlZ5WNf48w"}],"key":"gCQSigaGB8"}],"key":"ikgs3RXSuy"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://cloud.google.com/billing/docs/how-to/manage-billing-account#create_a_new_billing_account","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Create a Cloud Billing account","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"pWW6xWsGJd"}],"urlSource":"https://cloud.google.com/billing/docs/how-to/manage-billing-account#create_a_new_billing_account","key":"zWuqUNQ8Wh"},{"type":"text","value":" associated with the project and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vPp5PKyeEq"},{"type":"link","url":"https://cloud.google.com/billing/docs/how-to/modify-project#enable_billing_for_a_project","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"enable billing for the project","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oK96gCgLJZ"}],"urlSource":"https://cloud.google.com/billing/docs/how-to/modify-project#enable_billing_for_a_project","key":"Ycm25jX4sd"},{"type":"text","value":" through this account.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OMSEfVQO0z"}],"key":"evQxcZdq22"}],"key":"g6ezkG456h"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Using ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QGaQEK9xSo"},{"type":"link","url":"https://cloud.google.com/iam/docs/granting-changing-revoking-access#granting-console","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Google Cloud IAM","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kauUd0dX0v"}],"urlSource":"https://cloud.google.com/iam/docs/granting-changing-revoking-access#granting-console","key":"LgcknjTJJF"},{"type":"text","value":", add the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"j9OJuZ7qmo"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Service Usage Consumer","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yLntG88kee"}],"key":"Fec2zXE7E4"},{"type":"text","value":" role to your account, which enables it to make billed requests on the behalf of the project.\nThrough command line, install the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"hnCxoEBhYI"},{"type":"link","url":"https://cloud.google.com/sdk","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Google Cloud SDK","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FSrYnyzd0o"}],"urlSource":"https://cloud.google.com/sdk","key":"B6j1oFnjyT"},{"type":"text","value":"; this can be done using conda:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KSfHkCOOsB"}],"key":"TRoF3zt5ih"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"inlineCode","value":"conda install -c conda-forge google-cloud-sdk","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qCKZpSGlMn"}],"key":"Q1xUhSRZHO"}],"key":"aCyjkkn0lI"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Initialize the ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"COBqHkXUZu"},{"type":"inlineCode","value":"gcloud","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"eAZApzfqXo"},{"type":"text","value":" command line interface, logging into the account used to create the aforementioned project and selecting it as the default project; this will allow the project to be used for requester pays access through the command line:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gu3vmN3jKh"}],"key":"P1Rcmmnz3v"},{"type":"code","lang":"gcloud","value":"","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eb5AqNJVVM"}],"key":"tWt3W3bFVk"}],"key":"jRGu0lDXRa"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"gcloud init```","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"e6HcE7Itpq"}],"key":"AjOed3pPZK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Finally, use ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CXuYFj1MZ7"},{"type":"inlineCode","value":"gcloud","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"JMBu9CqUxC"},{"type":"text","value":" to establish application default credentials; this will allow the project to be used for requester pays access through applications:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"n2xbij8Ibj"}],"key":"qU9DwhU76U"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"inlineCode","value":"gcloud auth application-default login","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"YKR5EVdRgM"}],"key":"PsfR7PkMKb"}],"key":"zJi95BVT0o"}],"key":"hJU9ekgMKo"}],"key":"B2ilmIqCr4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds  = cat[\"sea_surface_height\"].to_dask()\nds","key":"vct60WdmVe"},{"type":"output","id":"TrnHoBZpwPWa8itnyky32","data":[{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mValueError\u001b[39m                                Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[3]\u001b[39m\u001b[32m, line 1\u001b[39m\n\u001b[32m----> \u001b[39m\u001b[32m1\u001b[39m ds  = \u001b[43mcat\u001b[49m\u001b[43m[\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43msea_surface_height\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m.\u001b[49m\u001b[43mto_dask\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m      2\u001b[39m ds\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:8\u001b[39m, in \u001b[36mIntakeXarraySourceAdapter.to_dask\u001b[39m\u001b[34m(self)\u001b[39m\n\u001b[32m      6\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mto_dask\u001b[39m(\u001b[38;5;28mself\u001b[39m):\n\u001b[32m      7\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m \u001b[33m\"\u001b[39m\u001b[33mchunks\u001b[39m\u001b[33m\"\u001b[39m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;129;01min\u001b[39;00m \u001b[38;5;28mself\u001b[39m.reader.kwargs:\n\u001b[32m----> \u001b[39m\u001b[32m8\u001b[39m         \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43mreader\u001b[49m\u001b[43m(\u001b[49m\u001b[43mchunks\u001b[49m\u001b[43m=\u001b[49m\u001b[43m{\u001b[49m\u001b[43m}\u001b[49m\u001b[43m)\u001b[49m\u001b[43m.\u001b[49m\u001b[43mread\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m      9\u001b[39m     \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[32m     10\u001b[39m         \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28mself\u001b[39m.reader.read()\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/intake/readers/readers.py:121\u001b[39m, in \u001b[36mBaseReader.read\u001b[39m\u001b[34m(self, *args, **kwargs)\u001b[39m\n\u001b[32m    119\u001b[39m kw.update(kwargs)\n\u001b[32m    120\u001b[39m args = kw.pop(\u001b[33m\"\u001b[39m\u001b[33margs\u001b[39m\u001b[33m\"\u001b[39m, ()) \u001b[38;5;129;01mor\u001b[39;00m args\n\u001b[32m--> \u001b[39m\u001b[32m121\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_read\u001b[49m\u001b[43m(\u001b[49m\u001b[43m*\u001b[49m\u001b[43margs\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkw\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/intake/readers/readers.py:1327\u001b[39m, in \u001b[36mXArrayDatasetReader._read\u001b[39m\u001b[34m(self, data, open_local, **kw)\u001b[39m\n\u001b[32m   1325\u001b[39m         f = fsspec.open(data.url, **(data.storage_options \u001b[38;5;129;01mor\u001b[39;00m {})).open()\n\u001b[32m   1326\u001b[39m         \u001b[38;5;28;01mreturn\u001b[39;00m open_dataset(f, **kw)\n\u001b[32m-> \u001b[39m\u001b[32m1327\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mopen_dataset\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdata\u001b[49m\u001b[43m.\u001b[49m\u001b[43murl\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkw\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/xarray/backends/api.py:715\u001b[39m, in \u001b[36mopen_dataset\u001b[39m\u001b[34m(filename_or_obj, engine, chunks, cache, decode_cf, mask_and_scale, decode_times, decode_timedelta, use_cftime, concat_characters, decode_coords, drop_variables, create_default_indexes, inline_array, chunked_array_type, from_array_kwargs, backend_kwargs, **kwargs)\u001b[39m\n\u001b[32m    703\u001b[39m decoders = _resolve_decoders_kwargs(\n\u001b[32m    704\u001b[39m     decode_cf,\n\u001b[32m    705\u001b[39m     open_backend_dataset_parameters=backend.open_dataset_parameters,\n\u001b[32m   (...)\u001b[39m\u001b[32m    711\u001b[39m     decode_coords=decode_coords,\n\u001b[32m    712\u001b[39m )\n\u001b[32m    714\u001b[39m overwrite_encoded_chunks = kwargs.pop(\u001b[33m\"\u001b[39m\u001b[33moverwrite_encoded_chunks\u001b[39m\u001b[33m\"\u001b[39m, \u001b[38;5;28;01mNone\u001b[39;00m)\n\u001b[32m--> \u001b[39m\u001b[32m715\u001b[39m backend_ds = \u001b[43mbackend\u001b[49m\u001b[43m.\u001b[49m\u001b[43mopen_dataset\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    716\u001b[39m \u001b[43m    \u001b[49m\u001b[43mfilename_or_obj\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    717\u001b[39m \u001b[43m    \u001b[49m\u001b[43mdrop_variables\u001b[49m\u001b[43m=\u001b[49m\u001b[43mdrop_variables\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    718\u001b[39m \u001b[43m    \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mdecoders\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    719\u001b[39m \u001b[43m    \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    720\u001b[39m \u001b[43m\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    721\u001b[39m ds = _dataset_from_backend_dataset(\n\u001b[32m    722\u001b[39m     backend_ds,\n\u001b[32m    723\u001b[39m     filename_or_obj,\n\u001b[32m   (...)\u001b[39m\u001b[32m    734\u001b[39m     **kwargs,\n\u001b[32m    735\u001b[39m )\n\u001b[32m    736\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m ds\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/xarray/backends/zarr.py:1587\u001b[39m, in \u001b[36mZarrBackendEntrypoint.open_dataset\u001b[39m\u001b[34m(self, filename_or_obj, mask_and_scale, decode_times, concat_characters, decode_coords, drop_variables, use_cftime, decode_timedelta, group, mode, synchronizer, consolidated, chunk_store, storage_options, zarr_version, zarr_format, store, engine, use_zarr_fill_value_as_mask, cache_members)\u001b[39m\n\u001b[32m   1585\u001b[39m filename_or_obj = _normalize_path(filename_or_obj)\n\u001b[32m   1586\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m store:\n\u001b[32m-> \u001b[39m\u001b[32m1587\u001b[39m     store = \u001b[43mZarrStore\u001b[49m\u001b[43m.\u001b[49m\u001b[43mopen_group\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m   1588\u001b[39m \u001b[43m        \u001b[49m\u001b[43mfilename_or_obj\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1589\u001b[39m \u001b[43m        \u001b[49m\u001b[43mgroup\u001b[49m\u001b[43m=\u001b[49m\u001b[43mgroup\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1590\u001b[39m \u001b[43m        \u001b[49m\u001b[43mmode\u001b[49m\u001b[43m=\u001b[49m\u001b[43mmode\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1591\u001b[39m \u001b[43m        \u001b[49m\u001b[43msynchronizer\u001b[49m\u001b[43m=\u001b[49m\u001b[43msynchronizer\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1592\u001b[39m \u001b[43m        \u001b[49m\u001b[43mconsolidated\u001b[49m\u001b[43m=\u001b[49m\u001b[43mconsolidated\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1593\u001b[39m \u001b[43m        \u001b[49m\u001b[43mconsolidate_on_close\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43;01mFalse\u001b[39;49;00m\u001b[43m,\u001b[49m\n\u001b[32m   1594\u001b[39m \u001b[43m        \u001b[49m\u001b[43mchunk_store\u001b[49m\u001b[43m=\u001b[49m\u001b[43mchunk_store\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1595\u001b[39m \u001b[43m        \u001b[49m\u001b[43mstorage_options\u001b[49m\u001b[43m=\u001b[49m\u001b[43mstorage_options\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1596\u001b[39m \u001b[43m        \u001b[49m\u001b[43mzarr_version\u001b[49m\u001b[43m=\u001b[49m\u001b[43mzarr_version\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1597\u001b[39m \u001b[43m        \u001b[49m\u001b[43muse_zarr_fill_value_as_mask\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43;01mNone\u001b[39;49;00m\u001b[43m,\u001b[49m\n\u001b[32m   1598\u001b[39m \u001b[43m        \u001b[49m\u001b[43mzarr_format\u001b[49m\u001b[43m=\u001b[49m\u001b[43mzarr_format\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1599\u001b[39m \u001b[43m        \u001b[49m\u001b[43mcache_members\u001b[49m\u001b[43m=\u001b[49m\u001b[43mcache_members\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m   1600\u001b[39m \u001b[43m    \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m   1602\u001b[39m store_entrypoint = StoreBackendEntrypoint()\n\u001b[32m   1603\u001b[39m \u001b[38;5;28;01mwith\u001b[39;00m close_on_error(store):\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/xarray/backends/zarr.py:664\u001b[39m, in \u001b[36mZarrStore.open_group\u001b[39m\u001b[34m(cls, store, mode, synchronizer, group, consolidated, consolidate_on_close, chunk_store, storage_options, append_dim, write_region, safe_chunks, align_chunks, zarr_version, zarr_format, use_zarr_fill_value_as_mask, write_empty, cache_members)\u001b[39m\n\u001b[32m    638\u001b[39m \u001b[38;5;129m@classmethod\u001b[39m\n\u001b[32m    639\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mopen_group\u001b[39m(\n\u001b[32m    640\u001b[39m     \u001b[38;5;28mcls\u001b[39m,\n\u001b[32m   (...)\u001b[39m\u001b[32m    657\u001b[39m     cache_members: \u001b[38;5;28mbool\u001b[39m = \u001b[38;5;28;01mTrue\u001b[39;00m,\n\u001b[32m    658\u001b[39m ):\n\u001b[32m    659\u001b[39m     (\n\u001b[32m    660\u001b[39m         zarr_group,\n\u001b[32m    661\u001b[39m         consolidate_on_close,\n\u001b[32m    662\u001b[39m         close_store_on_close,\n\u001b[32m    663\u001b[39m         use_zarr_fill_value_as_mask,\n\u001b[32m--> \u001b[39m\u001b[32m664\u001b[39m     ) = \u001b[43m_get_open_params\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    665\u001b[39m \u001b[43m        \u001b[49m\u001b[43mstore\u001b[49m\u001b[43m=\u001b[49m\u001b[43mstore\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    666\u001b[39m \u001b[43m        \u001b[49m\u001b[43mmode\u001b[49m\u001b[43m=\u001b[49m\u001b[43mmode\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    667\u001b[39m \u001b[43m        \u001b[49m\u001b[43msynchronizer\u001b[49m\u001b[43m=\u001b[49m\u001b[43msynchronizer\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    668\u001b[39m \u001b[43m        \u001b[49m\u001b[43mgroup\u001b[49m\u001b[43m=\u001b[49m\u001b[43mgroup\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    669\u001b[39m \u001b[43m        \u001b[49m\u001b[43mconsolidated\u001b[49m\u001b[43m=\u001b[49m\u001b[43mconsolidated\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    670\u001b[39m \u001b[43m        \u001b[49m\u001b[43mconsolidate_on_close\u001b[49m\u001b[43m=\u001b[49m\u001b[43mconsolidate_on_close\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    671\u001b[39m \u001b[43m        \u001b[49m\u001b[43mchunk_store\u001b[49m\u001b[43m=\u001b[49m\u001b[43mchunk_store\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    672\u001b[39m \u001b[43m        \u001b[49m\u001b[43mstorage_options\u001b[49m\u001b[43m=\u001b[49m\u001b[43mstorage_options\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    673\u001b[39m \u001b[43m        \u001b[49m\u001b[43mzarr_version\u001b[49m\u001b[43m=\u001b[49m\u001b[43mzarr_version\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    674\u001b[39m \u001b[43m        \u001b[49m\u001b[43muse_zarr_fill_value_as_mask\u001b[49m\u001b[43m=\u001b[49m\u001b[43muse_zarr_fill_value_as_mask\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    675\u001b[39m \u001b[43m        \u001b[49m\u001b[43mzarr_format\u001b[49m\u001b[43m=\u001b[49m\u001b[43mzarr_format\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    676\u001b[39m \u001b[43m    \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    678\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28mcls\u001b[39m(\n\u001b[32m    679\u001b[39m         zarr_group,\n\u001b[32m    680\u001b[39m         mode,\n\u001b[32m   (...)\u001b[39m\u001b[32m    689\u001b[39m         cache_members=cache_members,\n\u001b[32m    690\u001b[39m     )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/xarray/backends/zarr.py:1791\u001b[39m, in \u001b[36m_get_open_params\u001b[39m\u001b[34m(store, mode, synchronizer, group, consolidated, consolidate_on_close, chunk_store, storage_options, zarr_version, use_zarr_fill_value_as_mask, zarr_format)\u001b[39m\n\u001b[32m   1787\u001b[39m group = open_kwargs.pop(\u001b[33m\"\u001b[39m\u001b[33mpath\u001b[39m\u001b[33m\"\u001b[39m)\n\u001b[32m   1789\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m consolidated:\n\u001b[32m   1790\u001b[39m     \u001b[38;5;66;03m# TODO: an option to pass the metadata_key keyword\u001b[39;00m\n\u001b[32m-> \u001b[39m\u001b[32m1791\u001b[39m     zarr_root_group = \u001b[43mzarr\u001b[49m\u001b[43m.\u001b[49m\u001b[43mopen_consolidated\u001b[49m\u001b[43m(\u001b[49m\u001b[43mstore\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mopen_kwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m   1792\u001b[39m \u001b[38;5;28;01melif\u001b[39;00m consolidated \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m   1793\u001b[39m     \u001b[38;5;66;03m# same but with more error handling in case no consolidated metadata found\u001b[39;00m\n\u001b[32m   1794\u001b[39m     \u001b[38;5;28;01mtry\u001b[39;00m:\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/api/synchronous.py:222\u001b[39m, in \u001b[36mopen_consolidated\u001b[39m\u001b[34m(use_consolidated, *args, **kwargs)\u001b[39m\n\u001b[32m    217\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mopen_consolidated\u001b[39m(*args: Any, use_consolidated: Literal[\u001b[38;5;28;01mTrue\u001b[39;00m] = \u001b[38;5;28;01mTrue\u001b[39;00m, **kwargs: Any) -> Group:\n\u001b[32m    218\u001b[39m \u001b[38;5;250m    \u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    219\u001b[39m \u001b[33;03m    Alias for :func:`open_group` with ``use_consolidated=True``.\u001b[39;00m\n\u001b[32m    220\u001b[39m \u001b[33;03m    \"\"\"\u001b[39;00m\n\u001b[32m    221\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m Group(\n\u001b[32m--> \u001b[39m\u001b[32m222\u001b[39m         \u001b[43msync\u001b[49m\u001b[43m(\u001b[49m\u001b[43masync_api\u001b[49m\u001b[43m.\u001b[49m\u001b[43mopen_consolidated\u001b[49m\u001b[43m(\u001b[49m\u001b[43m*\u001b[49m\u001b[43margs\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43muse_consolidated\u001b[49m\u001b[43m=\u001b[49m\u001b[43muse_consolidated\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    223\u001b[39m     )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/core/sync.py:163\u001b[39m, in \u001b[36msync\u001b[39m\u001b[34m(coro, loop, timeout)\u001b[39m\n\u001b[32m    160\u001b[39m return_result = \u001b[38;5;28mnext\u001b[39m(\u001b[38;5;28miter\u001b[39m(finished)).result()\n\u001b[32m    162\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;28misinstance\u001b[39m(return_result, \u001b[38;5;167;01mBaseException\u001b[39;00m):\n\u001b[32m--> \u001b[39m\u001b[32m163\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m return_result\n\u001b[32m    164\u001b[39m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[32m    165\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m return_result\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/core/sync.py:119\u001b[39m, in \u001b[36m_runner\u001b[39m\u001b[34m(coro)\u001b[39m\n\u001b[32m    114\u001b[39m \u001b[38;5;250m\u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    115\u001b[39m \u001b[33;03mAwait a coroutine and return the result of running it. If awaiting the coroutine raises an\u001b[39;00m\n\u001b[32m    116\u001b[39m \u001b[33;03mexception, the exception will be returned.\u001b[39;00m\n\u001b[32m    117\u001b[39m \u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    118\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m--> \u001b[39m\u001b[32m119\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;01mawait\u001b[39;00m coro\n\u001b[32m    120\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m \u001b[38;5;167;01mException\u001b[39;00m \u001b[38;5;28;01mas\u001b[39;00m ex:\n\u001b[32m    121\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m ex\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/api/asynchronous.py:381\u001b[39m, in \u001b[36mopen_consolidated\u001b[39m\u001b[34m(use_consolidated, *args, **kwargs)\u001b[39m\n\u001b[32m    376\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m use_consolidated \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mTrue\u001b[39;00m:\n\u001b[32m    377\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mTypeError\u001b[39;00m(\n\u001b[32m    378\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33m'\u001b[39m\u001b[33muse_consolidated\u001b[39m\u001b[33m'\u001b[39m\u001b[33m must be \u001b[39m\u001b[33m'\u001b[39m\u001b[33mTrue\u001b[39m\u001b[33m'\u001b[39m\u001b[33m in \u001b[39m\u001b[33m'\u001b[39m\u001b[33mopen_consolidated\u001b[39m\u001b[33m'\u001b[39m\u001b[33m. Use \u001b[39m\u001b[33m'\u001b[39m\u001b[33mopen\u001b[39m\u001b[33m'\u001b[39m\u001b[33m with \u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m    379\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33m'\u001b[39m\u001b[33muse_consolidated=False\u001b[39m\u001b[33m'\u001b[39m\u001b[33m to bypass consolidated metadata.\u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m    380\u001b[39m     )\n\u001b[32m--> \u001b[39m\u001b[32m381\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;01mawait\u001b[39;00m open_group(*args, use_consolidated=use_consolidated, **kwargs)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/api/asynchronous.py:844\u001b[39m, in \u001b[36mopen_group\u001b[39m\u001b[34m(store, mode, cache_attrs, synchronizer, path, chunk_store, storage_options, zarr_version, zarr_format, meta_array, attributes, use_consolidated)\u001b[39m\n\u001b[32m    842\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m    843\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m mode \u001b[38;5;129;01min\u001b[39;00m _READ_MODES:\n\u001b[32m--> \u001b[39m\u001b[32m844\u001b[39m         \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;01mawait\u001b[39;00m AsyncGroup.open(\n\u001b[32m    845\u001b[39m             store_path, zarr_format=zarr_format, use_consolidated=use_consolidated\n\u001b[32m    846\u001b[39m         )\n\u001b[32m    847\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m (\u001b[38;5;167;01mKeyError\u001b[39;00m, \u001b[38;5;167;01mFileNotFoundError\u001b[39;00m):\n\u001b[32m    848\u001b[39m     \u001b[38;5;28;01mpass\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/core/group.py:542\u001b[39m, in \u001b[36mAsyncGroup.open\u001b[39m\u001b[34m(cls, store, zarr_format, use_consolidated)\u001b[39m\n\u001b[32m    535\u001b[39m         \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mFileNotFoundError\u001b[39;00m(store_path)\n\u001b[32m    536\u001b[39m \u001b[38;5;28;01melif\u001b[39;00m zarr_format \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m    537\u001b[39m     (\n\u001b[32m    538\u001b[39m         zarr_json_bytes,\n\u001b[32m    539\u001b[39m         zgroup_bytes,\n\u001b[32m    540\u001b[39m         zattrs_bytes,\n\u001b[32m    541\u001b[39m         maybe_consolidated_metadata_bytes,\n\u001b[32m--> \u001b[39m\u001b[32m542\u001b[39m     ) = \u001b[38;5;28;01mawait\u001b[39;00m asyncio.gather(\n\u001b[32m    543\u001b[39m         (store_path / ZARR_JSON).get(),\n\u001b[32m    544\u001b[39m         (store_path / ZGROUP_JSON).get(),\n\u001b[32m    545\u001b[39m         (store_path / ZATTRS_JSON).get(),\n\u001b[32m    546\u001b[39m         (store_path / \u001b[38;5;28mstr\u001b[39m(consolidated_key)).get(),\n\u001b[32m    547\u001b[39m     )\n\u001b[32m    548\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m zarr_json_bytes \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m \u001b[38;5;129;01mand\u001b[39;00m zgroup_bytes \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m    549\u001b[39m         \u001b[38;5;66;03m# warn and favor v3\u001b[39;00m\n\u001b[32m    550\u001b[39m         msg = \u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[33mBoth zarr.json (Zarr format 3) and .zgroup (Zarr format 2) metadata objects exist at \u001b[39m\u001b[38;5;132;01m{\u001b[39;00mstore_path\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m. Zarr format 3 will be used.\u001b[39m\u001b[33m\"\u001b[39m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/storage/_common.py:164\u001b[39m, in \u001b[36mStorePath.get\u001b[39m\u001b[34m(self, prototype, byte_range)\u001b[39m\n\u001b[32m    162\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m prototype \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m    163\u001b[39m     prototype = default_buffer_prototype()\n\u001b[32m--> \u001b[39m\u001b[32m164\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;01mawait\u001b[39;00m \u001b[38;5;28mself\u001b[39m.store.get(\u001b[38;5;28mself\u001b[39m.path, prototype=prototype, byte_range=byte_range)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/zarr/storage/_fsspec.py:300\u001b[39m, in \u001b[36mFsspecStore.get\u001b[39m\u001b[34m(self, key, prototype, byte_range)\u001b[39m\n\u001b[32m    298\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m    299\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m byte_range \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m--> \u001b[39m\u001b[32m300\u001b[39m         value = prototype.buffer.from_bytes(\u001b[38;5;28;01mawait\u001b[39;00m \u001b[38;5;28mself\u001b[39m.fs._cat_file(path))\n\u001b[32m    301\u001b[39m     \u001b[38;5;28;01melif\u001b[39;00m \u001b[38;5;28misinstance\u001b[39m(byte_range, RangeByteRequest):\n\u001b[32m    302\u001b[39m         value = prototype.buffer.from_bytes(\n\u001b[32m    303\u001b[39m             \u001b[38;5;28;01mawait\u001b[39;00m \u001b[38;5;28mself\u001b[39m.fs._cat_file(\n\u001b[32m    304\u001b[39m                 path,\n\u001b[32m   (...)\u001b[39m\u001b[32m    307\u001b[39m             )\n\u001b[32m    308\u001b[39m         )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/gcsfs/core.py:1117\u001b[39m, in \u001b[36mGCSFileSystem._cat_file\u001b[39m\u001b[34m(self, path, start, end, **kwargs)\u001b[39m\n\u001b[32m   1115\u001b[39m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[32m   1116\u001b[39m     head = {}\n\u001b[32m-> \u001b[39m\u001b[32m1117\u001b[39m headers, out = \u001b[38;5;28;01mawait\u001b[39;00m \u001b[38;5;28mself\u001b[39m._call(\u001b[33m\"\u001b[39m\u001b[33mGET\u001b[39m\u001b[33m\"\u001b[39m, u2, headers=head)\n\u001b[32m   1118\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m out\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/gcsfs/core.py:483\u001b[39m, in \u001b[36mGCSFileSystem._call\u001b[39m\u001b[34m(self, method, path, json_out, info_out, *args, **kwargs)\u001b[39m\n\u001b[32m    479\u001b[39m \u001b[38;5;28;01masync\u001b[39;00m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34m_call\u001b[39m(\n\u001b[32m    480\u001b[39m     \u001b[38;5;28mself\u001b[39m, method, path, *args, json_out=\u001b[38;5;28;01mFalse\u001b[39;00m, info_out=\u001b[38;5;28;01mFalse\u001b[39;00m, **kwargs\n\u001b[32m    481\u001b[39m ):\n\u001b[32m    482\u001b[39m     logger.debug(\u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mmethod.upper()\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m: \u001b[39m\u001b[38;5;132;01m{\u001b[39;00mpath\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m, \u001b[39m\u001b[38;5;132;01m{\u001b[39;00margs\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m, \u001b[39m\u001b[38;5;132;01m{\u001b[39;00mkwargs.get(\u001b[33m'\u001b[39m\u001b[33mheaders\u001b[39m\u001b[33m'\u001b[39m)\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m)\n\u001b[32m--> \u001b[39m\u001b[32m483\u001b[39m     status, headers, info, contents = \u001b[38;5;28;01mawait\u001b[39;00m \u001b[38;5;28mself\u001b[39m._request(\n\u001b[32m    484\u001b[39m         method, path, *args, **kwargs\n\u001b[32m    485\u001b[39m     )\n\u001b[32m    486\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m json_out:\n\u001b[32m    487\u001b[39m         \u001b[38;5;28;01mreturn\u001b[39;00m json.loads(contents)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/decorator.py:224\u001b[39m, in \u001b[36mdecorate.<locals>.fun\u001b[39m\u001b[34m(*args, **kw)\u001b[39m\n\u001b[32m    222\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m kwsyntax:\n\u001b[32m    223\u001b[39m     args, kw = fix(args, kw, sig)\n\u001b[32m--> \u001b[39m\u001b[32m224\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;01mawait\u001b[39;00m caller(func, *(extras + args), **kw)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/gcsfs/retry.py:135\u001b[39m, in \u001b[36mretry_request\u001b[39m\u001b[34m(func, retries, *args, **kwargs)\u001b[39m\n\u001b[32m    133\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m retry > \u001b[32m0\u001b[39m:\n\u001b[32m    134\u001b[39m         \u001b[38;5;28;01mawait\u001b[39;00m asyncio.sleep(\u001b[38;5;28mmin\u001b[39m(random.random() + \u001b[32m2\u001b[39m ** (retry - \u001b[32m1\u001b[39m), \u001b[32m32\u001b[39m))\n\u001b[32m--> \u001b[39m\u001b[32m135\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;01mawait\u001b[39;00m func(*args, **kwargs)\n\u001b[32m    136\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m (\n\u001b[32m    137\u001b[39m     HttpError,\n\u001b[32m    138\u001b[39m     requests.exceptions.RequestException,\n\u001b[32m   (...)\u001b[39m\u001b[32m    141\u001b[39m     aiohttp.client_exceptions.ClientError,\n\u001b[32m    142\u001b[39m ) \u001b[38;5;28;01mas\u001b[39;00m e:\n\u001b[32m    143\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m (\n\u001b[32m    144\u001b[39m         \u001b[38;5;28misinstance\u001b[39m(e, HttpError)\n\u001b[32m    145\u001b[39m         \u001b[38;5;129;01mand\u001b[39;00m e.code == \u001b[32m400\u001b[39m\n\u001b[32m    146\u001b[39m         \u001b[38;5;129;01mand\u001b[39;00m \u001b[33m\"\u001b[39m\u001b[33mrequester pays\u001b[39m\u001b[33m\"\u001b[39m \u001b[38;5;129;01min\u001b[39;00m e.message\n\u001b[32m    147\u001b[39m     ):\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/gcsfs/core.py:476\u001b[39m, in \u001b[36mGCSFileSystem._request\u001b[39m\u001b[34m(self, method, path, headers, json, data, *args, **kwargs)\u001b[39m\n\u001b[32m    473\u001b[39m info = r.request_info  \u001b[38;5;66;03m# for debug only\u001b[39;00m\n\u001b[32m    474\u001b[39m contents = \u001b[38;5;28;01mawait\u001b[39;00m r.read()\n\u001b[32m--> \u001b[39m\u001b[32m476\u001b[39m \u001b[43mvalidate_response\u001b[49m\u001b[43m(\u001b[49m\u001b[43mstatus\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mcontents\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mpath\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43margs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    477\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m status, headers, info, contents\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/po-cookbook-dev/lib/python3.13/site-packages/gcsfs/retry.py:120\u001b[39m, in \u001b[36mvalidate_response\u001b[39m\u001b[34m(status, content, path, args)\u001b[39m\n\u001b[32m    118\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m requests.exceptions.ProxyError()\n\u001b[32m    119\u001b[39m \u001b[38;5;28;01melif\u001b[39;00m \u001b[33m\"\u001b[39m\u001b[33minvalid\u001b[39m\u001b[33m\"\u001b[39m \u001b[38;5;129;01min\u001b[39;00m \u001b[38;5;28mstr\u001b[39m(msg):\n\u001b[32m--> \u001b[39m\u001b[32m120\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mValueError\u001b[39;00m(\u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[33mBad Request: \u001b[39m\u001b[38;5;132;01m{\u001b[39;00mpath\u001b[38;5;132;01m}\u001b[39;00m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[38;5;132;01m{\u001b[39;00mmsg\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m)\n\u001b[32m    121\u001b[39m \u001b[38;5;28;01melif\u001b[39;00m error \u001b[38;5;129;01mand\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28misinstance\u001b[39m(error, \u001b[38;5;28mstr\u001b[39m):\n\u001b[32m    122\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m HttpError(error)\n\n\u001b[31mValueError\u001b[39m: Bad Request: https://storage.googleapis.com/download/storage/v1/b/pangeo-cmems-duacs/o/.zgroup?alt=media\nUser project specified in the request is invalid.","ename":"ValueError","evalue":"Bad Request: https://storage.googleapis.com/download/storage/v1/b/pangeo-cmems-duacs/o/.zgroup?alt=media\nUser project specified in the request is invalid."}],"key":"q0C4NK2Cwx"}],"key":"SskySXKlfZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Make a Map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pMlix3jprW"}],"identifier":"make-a-map","label":"Make a Map","html_id":"make-a-map","implicit":true,"key":"nG5ZDZex6Z"}],"key":"aZqdzU8weH"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"center = [35, -50]\nzoom = 4\nm = Map(center=center, zoom=zoom, interpolation='nearest', basemap=basemaps.Gaode.Satellite)\n\ndisplay_options = {\n    'velocityType': 'Global Wind',\n    'displayPosition': 'bottomleft',\n    'displayEmptyString': 'No wind data'\n}\n\nwind = Velocity(\n    data=ds.isel(time=-1), \n    zonal_speed='ugos', meridional_speed='vgos', \n    latitude_dimension='latitude', longitude_dimension='longitude', \n    velocity_scale=0.2, max_velocity=1, \n    display_options=display_options\n)\n\nm.add_layer(wind)\n\nm","key":"g3Juyw8YHA"},{"type":"output","id":"3Qd5b03ENFKE878jN4Yno","data":[],"key":"Lv6zanktW7"}],"key":"wU9JFpw7RG"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sc9Vn6e80U"}],"key":"EiOn5XABSb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wyP8oKJgpB"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"CkbE1BQ5yQ"}],"key":"lgagLTSsnm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this example we loaded sea level data from an analysis-ready cloud based dataset and made a visualization of that data using mapping library.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sLJtvYkcvX"}],"key":"VOPTnKBO4y"}],"key":"GplmbX2rF8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NRdh6kE32o"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"JByVpgtZat"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This notebook is based on the Pangeo physical oceanography gallery example: ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Hzf7UrYPxH"},{"type":"link","url":"https://gallery.pangeo.io/repos/pangeo-gallery/physical-oceanography/05_gulf_stream_currents.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"https://​gallery​.pangeo​.io​/repos​/pangeo​-gallery​/physical​-oceanography​/05​_gulf​_stream​_currents​.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cFHTSZakIS"}],"urlSource":"https://gallery.pangeo.io/repos/pangeo-gallery/physical-oceanography/05_gulf_stream_currents.html","key":"beIn36blk0"}],"key":"vIBshgbEnr"}],"key":"eiQAFsW1Lk"}],"key":"UZqaHvk08B"}],"key":"w1vfQl3UZJ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"MITgcm ECCOv4 Example","url":"/notebooks/eccov4","group":"Example Workflows"}}},"domain":"http://localhost:3000"}